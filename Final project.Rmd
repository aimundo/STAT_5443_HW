---
title: STAT 5443, FINAL PROJECT
author: Ariel Mundo
date: "`r Sys.Date()`"
output:
    prettydoc::html_pretty:
    pdf_document: 
    theme: cayman
    css: styles.css
---
<style type="text/css">

p {
   font-size: 18px;
}
code.r{
  font-size: 14px;
}
pre {
  font-size: 18px
}
</style>

## Sparse Classification 

### Comparing penalized methods for High-dimensional Classification

We would like to compare the performance of several modern regression methods including penalized regression methods such as LASSO and Elastic Net regression with 10-fold cross-validation. 

```{r setup, include=FALSE}
#knitr::opts_chunk$set(echo = TRUE)
library(prettydoc)
```

Library hdrm was installed following the directions from:
https://github.com/pbreheny/hdrm


```{r, loading data}

library(hdrm)
library(glmnet)
downloadData(Golub1999)
attachData(Golub1999)
```
http://www.sthda.com/english/articles/36-classification-methods-essentials/149-penalized-logistic-regression-essentials-in-r-ridge-lasso-and-elastic-net/#computing-penalized-logistic-regression



```{r, running analysis}
n=nrow(X)

#split in train and test sets

train_rows <- sample(1:n, n/2)
X.train <- X[train_rows, ]
X.test <- X[-train_rows, ]

y.train <- y[train_rows]
y.test <- y[-train_rows]

```

```{r,logistic}

logistic_l1<-glmnet(x=X.train,y=y.train,family = "binomial")
plot(logistic_l1)
 grid=10^seq(10,-2,length=100)
lasso.mod =glmnet (X.train, y.train, alpha = 1, lambda = grid)
plot(lasso.mod)

```
https://daviddalpiaz.github.io/stat432sp18/hw/hw07-soln.html

```{r, ELASTIC NET}
nfolds <- 10                    # Number of cross-validation folds.
alpha  <- 0.95                  # Elastic net mixing parameter.
lambda <- 10^(seq(0,-2,-0.05))  # Lambda sequence.

#model fitting
elastic_net<-glmnet(X.train,y.train,family="binomial",lambda=lambda,alpha=alpha)
#cross validation
out<-cv.glmnet(X.train,y.train,family="binomial",type.measure = "class",alpha=alpha,nfolds=nfolds,lambda=lambda)

lambda1<-out$lambda

```

```{r,LASSO}
leukemia_lasso<-glmnet(x=X.train,y=y.train,family="binomial",alpha=1)
fit_lasso<-cv.glmnet(X.train,y.train,family="binomial",alpha=1,nfolds=10)
plot(leukemia_lasso,xvar='lambda', main="lasso")
plot(fit_lasso)
lambda_lasso<-expand.grid(alpha=1,lambda=c(fit_lasso$lambda.min,fit_lasso$lambda.1se))
```

```{r,RIDGE}
leukemia_ridge<-glmnet(x=X.train,y=y.train,family="binomial",alpha=0)
plot(leukemia_ridge,xvar='lambda', main="Ridge")
```
